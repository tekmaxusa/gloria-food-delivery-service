services:
  - type: web
    name: gloriafood-webhook
    env: node
    plan: free
    region: singapore
    rootDir: .
    buildCommand: npm install --production=false && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      # Note: PORT is automatically set by Render, no need to specify
      - key: NODE_VERSION
        value: 20.18.0
    healthCheckPath: /health
    # IMPORTANT: Add these environment variables in Render Dashboard:
    # GLORIAFOOD_API_KEY=your_api_key_here
    # GLORIAFOOD_STORE_ID=your_store_id_here
    # (Optional) DB_TYPE=mysql
    # (Optional) DB_HOST, DB_PORT, DB_USER, DB_PASSWORD, DB_NAME
    # (Optional) DOORDASH_DEVELOPER_ID, DOORDASH_KEY_ID, DOORDASH_SIGNING_SECRET (for DoorDash integration)
    # (Optional) SMTP_HOST, SMTP_PORT, SMTP_USER, SMTP_PASS, MERCHANT_EMAIL (for merchant email alerts)
    # (Optional) SMTP_FROM, SMTP_SECURE

